webpackJsonp([31],{"/FRF":function(n,a,t){var e=t("iQWp");"string"==typeof e&&(e=[[n.i,e,""]]),e.locals&&(n.exports=e.locals);t("rjj0")("4272cf4c",e,!0)},iQWp:function(n,a,t){(n.exports=t("FZ+f")(!1)).push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",""])},zzED:function(n,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var e=t("NYxO"),s={name:"",data:function(){return{addDialog:!1,isLoading:!1,total:0,formLabelWidth:"120px",appOptions:[{name:"android",value:"0"},{name:"ios",value:"1"},{name:"电脑",value:"2"}],options:{loginUserID:"huileyou",loginUserPass:"123",operateUserID:"lianglile",operateUserName:"",pcName:"",data:{sm_as_Name:"",sm_as_Image:"",sm_as_Type:"",sm_as_DownLoadUrl:"",sm_as_Size:"",sm_as_VersionNo:"",sm_as_Describe:""}}}},computed:Object(e.b)(["uploadAppList"]),created:function(){this.initData(1)},methods:{handleCurrentChange:function(n){this.initData(n)},initData:function(n){var a=this,t={loginUserID:"huileyou",loginUserPass:"123",operateUserID:"",operateUserName:"",pcName:"",page:n||1,rows:"5",sm_as_ManagerID:"lianglile"};this.isLoading=!0,this.$store.dispatch("initUploadApp",t).then(function(n){a.total=n,a.isLoading=!1},function(n){a.$notify({message:n,type:"error"})})},uploaNode:function(){var n=this;setTimeout(function(){n.$refs.upload&&n.$refs.upload.addEventListener("change",function(){var a=n.$refs.upload.files[0];a&&(a.size>1048576?n.options.data.sm_as_Size=(Math.round(100*a.size/1048576)/100).toString()+"MB":n.options.data.sm_as_Size=(Math.round(100*a.size/1024)/100).toString()+"KB"),n.isLoading=!0,n.options.data.sm_as_DownLoadUrl="加载中...";var t=new FormData;t.append("fileUpload",a);var e=new XMLHttpRequest;e.open("POST","http://image.1000da.com.cn/PostImage/PostAppStore"),e.send(t),e.onreadystatechange=function(){if(4==e.readyState&&200==e.status){n.isLoading=!1;var a=JSON.parse(e.responseText);n.options.data.sm_as_DownLoadUrl=a.data}}})},30)},uploadApp:function(){for(var n in this.options.data)this.options.data[n]="";this.addDialog=!0,this.$store.commit("setTranstionFalse"),this.uploaNode()},addSubmit:function(){var n=this;this.$store.dispatch("AddUploadApp",this.options).then(function(a){n.$notify({message:a,type:"success"}),n.initData(1)},function(a){n.$notify({message:a,type:"error"})}),this.addDialog=!1}}},o={render:function(){var n=this,a=n.$createElement,t=n._self._c||a;return t("section",{attrs:{id:"wrap"}},[t("h1",{staticClass:"userClass",staticStyle:{"font-size":"20px","font-weight":"bold"}},[n._v("上传App")]),n._v(" "),t("el-col",{staticClass:"formSearch",attrs:{span:24}},[t("el-form",{attrs:{inline:!0}},[t("el-form-item"),n._v(" "),t("el-form-item"),n._v(" "),t("el-form-item",{staticStyle:{float:"right"}},[t("el-button",{attrs:{type:"primary",size:"small"},on:{click:n.uploadApp}},[n._v("上传")])],1)],1)],1),n._v(" "),t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:n.isLoading,expression:"isLoading"}],staticStyle:{width:"100%"},attrs:{data:n.uploadAppList,"highlight-current-row":""}},[t("el-table-column",{attrs:{type:"expand"},scopedSlots:n._u([{key:"default",fn:function(a){return[t("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[t("el-form-item",{attrs:{label:"发布管理员ID:"}},[t("span",[n._v(n._s(a.row.sm_as_ManagerID))])]),n._v(" "),t("el-form-item",{attrs:{label:"应用程序图标:"}},[t("span",[n._v(n._s(a.row.sm_as_Image))])]),n._v(" "),t("el-form-item",{attrs:{label:"大小:"}},[t("span",[n._v(n._s(a.row.sm_as_Size))])]),n._v(" "),t("el-form-item",{attrs:{label:"下载地址:"}},[t("a",{staticStyle:{cursor:"pointer",color:"#f60"},attrs:{href:a.row.sm_as_DownLoadUrl}},[n._v("点击下载")])]),n._v(" "),t("el-form-item",{attrs:{label:"app类型:"}},[t("span",[n._v(n._s(n._f("getAppType")(a.row.sm_as_Type)))])]),n._v(" "),t("el-form-item",{attrs:{label:"审核状态:"}},[t("span",[n._v(n._s(n._f("getStatue")(a.row.sm_as_Statue)))])]),n._v(" "),t("el-form-item",{attrs:{label:"版本号:"}},[t("span",[n._v(n._s(a.row.sm_as_VersionNo))])]),n._v(" "),t("el-form-item",{attrs:{label:"文字描述:"}},[t("span",[n._v(n._s(a.row.sm_as_Describe))])]),n._v(" "),t("el-form-item",{attrs:{label:"审核员编码:"}},[t("span",[n._v(n._s(a.row.sm_as_ValidateUserID))])]),n._v(" "),t("el-form-item",{attrs:{label:"审核日期:"}},[t("span",[n._v(n._s(a.row.sm_as_ValidateDate))])]),n._v(" "),t("el-form-item",{attrs:{label:"审核未通过原因:"}},[t("span",[n._v(n._s(a.row.sm_as_FailedReason))])])],1)]}}])}),n._v(" "),t("el-table-column",{attrs:{align:"center",label:"App编号",prop:"sm_as_ID"}}),n._v(" "),t("el-table-column",{attrs:{align:"center",label:"版本号",prop:"sm_as_VersionNo"}}),n._v(" "),t("el-table-column",{attrs:{align:"center",label:"发布日期"},scopedSlots:n._u([{key:"default",fn:function(a){return[t("span",[n._v(n._s(n._f("getUseTime")(a.row.sm_as_OutDate)))])]}}])})],1),n._v(" "),t("div",{staticClass:"block",staticStyle:{float:"right"}},[t("el-pagination",{directives:[{name:"show",rawName:"v-show",value:n.total,expression:"total"}],attrs:{"page-size":5,layout:"total, prev, pager, next",total:n.total},on:{"current-change":n.handleCurrentChange}})],1),n._v(" "),t("el-dialog",{attrs:{title:"上传App",visible:n.addDialog},on:{"update:visible":function(a){n.addDialog=a}}},[t("el-form",{attrs:{model:n.options}},[t("el-form-item",{attrs:{label:"名称:","label-width":n.formLabelWidth}},[t("el-input",{attrs:{placeholder:"请输入名称"},model:{value:n.options.data.sm_as_Name,callback:function(a){n.$set(n.options.data,"sm_as_Name",a)},expression:"options.data.sm_as_Name"}})],1),n._v(" "),t("el-form-item",{attrs:{label:"App类型:","label-width":n.formLabelWidth}},[t("el-select",{attrs:{placeholder:"请选择"},model:{value:n.options.data.sm_as_Type,callback:function(a){n.$set(n.options.data,"sm_as_Type",a)},expression:"options.data.sm_as_Type"}},n._l(n.appOptions,function(n){return t("el-option",{key:n.value,attrs:{label:n.name,value:n.value}})}))],1),n._v(" "),t("el-form-item",{attrs:{label:"版本号:","label-width":n.formLabelWidth}},[t("el-input",{attrs:{placeholder:"请输入版本号"},model:{value:n.options.data.sm_as_VersionNo,callback:function(a){n.$set(n.options.data,"sm_as_VersionNo",a)},expression:"options.data.sm_as_VersionNo"}})],1),n._v(" "),t("el-form-item",{attrs:{label:"文字描述:","label-width":n.formLabelWidth}},[t("el-input",{attrs:{placeholder:"请输入文字描述"},model:{value:n.options.data.sm_as_Describe,callback:function(a){n.$set(n.options.data,"sm_as_Describe",a)},expression:"options.data.sm_as_Describe"}})],1),n._v(" "),t("el-form-item",{attrs:{label:"上传App:","label-width":n.formLabelWidth}},[t("a",{staticClass:"file",attrs:{href:"javascript:;"}},[n._v("上传App\n            "),t("input",{ref:"upload",attrs:{type:"file",name:"",multiple:""}})]),n._v(" "),t("p",{directives:[{name:"loading",rawName:"v-loading",value:n.isLoading,expression:"isLoading"}],staticStyle:{overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap","text-align":"center"}},[n._v(n._s(n.options.data.sm_as_DownLoadUrl))])])],1),n._v(" "),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(a){n.addDialog=!1}}},[n._v("取 消")]),n._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:n.addSubmit}},[n._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var i=t("VU/8")(s,o,!1,function(n){t("/FRF")},"data-v-25fa676e",null);a.default=i.exports}});