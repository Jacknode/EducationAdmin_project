webpackJsonp([35],{DKDT:function(a,n,e){(a.exports=e("FZ+f")(!1)).push([a.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",""])},ZcfO:function(a,n,e){var t=e("DKDT");"string"==typeof t&&(t=[[a.i,t,""]]),t.locals&&(a.exports=t.locals);e("rjj0")("3a6bdca3",t,!0)},jvzS:function(a,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var t=e("//Fk"),s=e.n(t),l=e("Xxa5"),i=e.n(l),o=e("exGp"),r=e.n(o),d=e("NYxO"),p={name:"",data:function(){return{isOff:!1,value:0,isShow:!0,isShow1:!0,ImageURL:[],ImageURL1:[],isLoading:!1,total:0,formLabelWidth:"120px",adApply:"",addDialog:!1,updateDialog:!1,addOptions:{loginUserID:"huileyou",loginUserPass:"123",operateUserID:"",operateUserName:"",pcName:"",data:{sm_aa_ID:"",sm_aa_AdviertiseTypeID:"",sm_aa_LocationID:"",sm_aa_AgentID:"",sm_aa_Image:"",sm_aa_Describe:"",sm_aa_ProductID:"",sm_aa_CreateTime:"",sm_aa_PassState:"",sm_aa_PassTime:"",sm_aa_OperateCode:"",sm_aa_FailedReason:"",sm_aa_Remark:""}},passOptions:[{value:"3",label:"审核中"},{value:"1",label:"通过"},{value:"2",label:"不通过"}],updatePassOptions:[{value:"3",label:"审核中"},{value:"1",label:"通过"},{value:"2",label:"不通过"}]}},computed:Object(d.b)(["adApplyList","updateAdApplyObj"]),created:function(){var a=this;this.initData(""),this.initContent().then(function(){},function(n){a.$notify({message:n,type:"error"})})},methods:{handleCurrentChange:function(a){this.initData(a)},initContent:function(){var a=this;return r()(i.a.mark(function n(){var e;return i.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e={loginUserID:"huileyou",loginUserPass:"123",operateUserID:"",operateUserName:"",pcName:"",sm_aa_ID:"",sm_aa_AdviertiseTypeID:"",sm_aa_LocationID:"",sm_aa_AgentID:"",sm_aa_Image:"",sm_aa_Describe:"",sm_aa_ProductID:"",sm_aa_CreateTime:"",sm_aa_PassState:"",sm_aa_PassTime:"",sm_aa_OperateCode:"",sm_aa_FailedReason:"",sm_aa_Remark:""},n.next=3,a.$store.dispatch("initPartnershipType",e);case 3:case"end":return n.stop()}},n,a)}))()},initData:function(a){var n=this,e={loginUserID:"huileyou",loginUserPass:"123",operateUserID:"",operateUserName:"",pcName:"",sm_aa_ID:"",sm_aa_AdviertiseTypeID:"",sm_aa_LocationID:"",sm_aa_AgentID:"",sm_aa_Image:"",sm_aa_Describe:"",sm_aa_ProductID:"",sm_aa_CreateTime:"",sm_aa_PassState:"",sm_aa_PassTime:"",sm_aa_OperateCode:"",sm_aa_FailedReason:"",sm_aa_Remark:"",page:a||1,rows:5};this.isLoading=!0,this.$store.dispatch("initAdApply",e).then(function(a){n.total=a,n.isLoading=!1},function(a){n.$notify({message:a,type:"error"})})},search:function(){this.initData()},Add:function(){var a=this.addOptions.data;for(var n in a)a[n]="";this.addDialog=!0,this.$store.commit("setTranstionFalse"),this.uploaNode()},addSubmit:function(){var a=this;this.addOptions.data.sm_aa_Image=this.ImageURL.join(","),this.$store.dispatch("AddAdApply",this.addOptions).then(function(n){a.$notify({message:n,type:"success"}),a.initData()},function(n){a.$notify({message:n,type:"error"})}),this.addDialog=!1},OnChange:function(){0==this.addOptions.data.sm_aa_PassState|1==this.addOptions.data.sm_aa_PassState?this.isShow=!1:this.isShow=!0},OnChangeUpdate:function(){0==this.updateAdApplyObj.sm_aa_PassState|1==this.updateAdApplyObj.sm_aa_PassState?this.isShow1=!1:this.isShow1=!0},uploadImg:function(a){return new s.a(function(n,e){lrz(a).then(function(a){n(a.base64.split(",")[1])})})},uploadToOSS:function(a){return new s.a(function(n,e){var t=new FormData;t.append("fileToUpload",a);var s=new XMLHttpRequest;s.open("POST","http://webservice.1000da.com.cn/OSSFile/PostToOSS"),s.send(t),s.onreadystatechange=function(){if(4==s.readyState&&200==s.status&&s.responseText){var a=s.responseText;n(JSON.parse(a))}}})},uploaNode:function(){var a=this;this.ImageURL=[],this.ImageURL1=[],setTimeout(function(){a.$refs.upload&&a.$refs.upload.addEventListener("change",function(n){for(var e=0;e<a.$refs.upload.files.length;e++)a.uploadToOSS(a.$refs.upload.files[e]).then(function(n){n?a.ImageURL.push(n.data):a.$notify({message:"图片地址不存在!",type:"error"})})}),a.$refs.upload1&&a.$refs.upload1.addEventListener("change",function(n){for(var e=0;e<a.$refs.upload1.files.length;e++)a.uploadToOSS(a.$refs.upload1.files[e]).then(function(n){n?a.ImageURL1.push(n.data):a.$notify({message:"图片地址不存在!",type:"error"})})})},30)},Update:function(a){this.updateDialog=!0,this.$store.commit("setTranstionFalse"),this.$store.commit("initUpdateAdApply",a),this.updateAdApplyObj.sm_aa_PassState="",this.uploaNode()},updateAdApplySubmit:function(){var a=this,n={loginUserID:"huileyou",loginUserPass:"123",operateUserID:"",operateUserName:"",pcName:"",data:this.updateAdApplyObj};n.data.sm_aa_Image=this.ImageURL1.join(","),this.$store.dispatch("UpdateAdApplyObj",n).then(function(n){a.$notify({message:n,type:"success"}),a.initData(a.adApply)},function(n){a.$notify({message:n,type:"error"})}),this.updateDialog=!1},Delete:function(a){var n=this,e={loginUserID:"huileyou",loginUserPass:"123",operateUserID:"",operateUserName:"",pcName:"",data:{sm_aa_ID:a}};this.$store.dispatch("DeleteAdApply",e).then(function(a){n.$notify({message:a,type:"success"}),n.initData(n.adApply)},function(a){n.$notify({message:a,type:"error"})})}}},m={render:function(){var a=this,n=a.$createElement,e=a._self._c||n;return e("div",[e("section",{attrs:{id:"wrap"}},[e("h1",{staticClass:"userClass"},[a._v("广告申请管理")]),a._v(" "),e("el-col",{staticClass:"formSearch",attrs:{span:24}},[e("el-form",{attrs:{inline:!0}},[e("el-form-item",[e("el-button",{attrs:{type:"primary",size:"small"},on:{click:a.search}},[a._v("查询")]),a._v(" "),e("el-button",{attrs:{type:"primary",size:"small"},on:{click:a.Add}},[a._v("新增")])],1)],1)],1),a._v(" "),e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:a.isLoading,expression:"isLoading"}],staticStyle:{width:"100%"},attrs:{data:a.adApplyList}},[e("el-table-column",{attrs:{type:"expand"},scopedSlots:a._u([{key:"default",fn:function(n){return[e("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[e("el-form-item",{attrs:{label:"申请广告编码"}},[e("span",[a._v(a._s(n.row.sm_aa_ID))])]),a._v(" "),e("el-form-item",{attrs:{label:"位置信息编码"}},[e("span",[a._v(a._s(n.row.sm_aa_LocationID))])]),a._v(" "),e("el-form-item",{attrs:{label:"广告类型编码 ID"}},[e("span",[a._v(a._s(n.row.sm_aa_AdviertiseTypeID))])]),a._v(" "),e("el-form-item",{attrs:{label:"供应商编码 ID"}},[e("span",[a._v(a._s(n.row.sm_aa_AgentID))])]),a._v(" "),e("el-form-item",{attrs:{label:"广告图片"}},a._l(n.row.sm_aa_Images,function(a){return e("img",{attrs:{src:a,width:"80",height:"50",alt:""}})})),a._v(" "),e("el-form-item",{attrs:{label:"广告描述"}},[e("span",[a._v(a._s(n.row.sm_aa_Describe))])]),a._v(" "),e("el-form-item",{attrs:{label:"产品ID"}},[e("span",[a._v(a._s(n.row.sm_aa_ProductID))])]),a._v(" "),e("el-form-item",{attrs:{label:"创建时间"}},[e("span",[a._v(a._s(a._f("getNewDate")(n.row.sm_aa_CreateTime)))])]),a._v(" "),e("el-form-item",{attrs:{label:"审核时间"}},[e("span",[a._v(a._s(a._f("getNewDate")(n.row.sm_aa_PassTime)))])]),a._v(" "),e("el-form-item",{attrs:{label:"审核状态"}},[e("span",[a._v(a._s(a._f("getAdApplyPass")(n.row.sm_aa_PassState)))])]),a._v(" "),e("el-form-item",{attrs:{label:"审核失败原因"}},[e("span",[a._v(a._s(n.row.sm_aa_FailedReason))])]),a._v(" "),e("el-form-item",{attrs:{label:"备注"}},[e("span",[a._v(a._s(n.row.sm_aa_Remark))])])],1)]}}])}),a._v(" "),e("el-table-column",{attrs:{label:"审核状态",prop:"sm_aa_PassState"},scopedSlots:a._u([{key:"default",fn:function(n){return[e("span",[a._v(a._s(a._f("getAdApplyPass")(n.row.sm_aa_PassState)))])]}}])}),a._v(" "),e("el-table-column",{attrs:{label:"广告描述",prop:"sm_aa_Describe"}}),a._v(" "),e("el-table-column",{attrs:{label:"备注",prop:"sm_aa_Remark"}}),a._v(" "),e("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:a._u([{key:"default",fn:function(n){return[e("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){a.Update(n.row.sm_aa_ID)}}},[a._v("修改\n            ")]),a._v(" "),e("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(e){a.Delete(n.row.sm_aa_ID)}}},[a._v("删除\n            ")])]}}])})],1),a._v(" "),e("el-dialog",{attrs:{title:"添加广告申请",visible:a.addDialog},on:{"update:visible":function(n){a.addDialog=n}}},[e("el-form",{attrs:{model:a.addOptions}},[e("el-form-item",{attrs:{label:"广告类型:","label-width":a.formLabelWidth}},[e("el-input",{attrs:{placeholder:"请输入广告类型编码"},model:{value:a.addOptions.data.sm_aa_AdviertiseTypeID,callback:function(n){a.$set(a.addOptions.data,"sm_aa_AdviertiseTypeID",n)},expression:"addOptions.data.sm_aa_AdviertiseTypeID"}})],1),a._v(" "),e("el-form-item",{attrs:{label:"位置信息编码:","label-width":a.formLabelWidth}},[e("el-input",{attrs:{placeholder:"位置信息编码"},model:{value:a.addOptions.data.sm_aa_LocationID,callback:function(n){a.$set(a.addOptions.data,"sm_aa_LocationID",n)},expression:"addOptions.data.sm_aa_LocationID"}})],1),a._v(" "),e("el-form-item",{attrs:{label:"供应商编码:","label-width":a.formLabelWidth}},[e("el-input",{attrs:{placeholder:"供应商编码"},model:{value:a.addOptions.data.sm_aa_AgentID,callback:function(n){a.$set(a.addOptions.data,"sm_aa_AgentID",n)},expression:"addOptions.data.sm_aa_AgentID"}})],1),a._v(" "),e("el-form-item",{attrs:{label:"广告图片:","label-width":a.formLabelWidth}},[e("a",{staticClass:"file",attrs:{href:"javascript:;"}},[a._v("推荐类型图片上传\n            "),e("input",{ref:"upload",attrs:{type:"file",name:"",accept:"image/*",multiple:""}})]),a._v(" "),a._l(a.ImageURL,function(n){return e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:n,expression:"item"},{name:"show",rawName:"v-show",value:a.ImageURL.length,expression:"ImageURL.length"}],staticStyle:{width:"100px",height:"100px"},attrs:{src:"",alt:""}})})],2),a._v(" "),e("el-form-item",{attrs:{label:"广告描述:","label-width":a.formLabelWidth}},[e("el-input",{attrs:{placeholder:"广告描述"},model:{value:a.addOptions.data.sm_aa_Describe,callback:function(n){a.$set(a.addOptions.data,"sm_aa_Describe",n)},expression:"addOptions.data.sm_aa_Describe"}})],1),a._v(" "),e("el-form-item",{attrs:{label:"产品ID:","label-width":a.formLabelWidth}},[e("el-input",{attrs:{placeholder:"产品ID"},model:{value:a.addOptions.data.sm_aa_ProductID,callback:function(n){a.$set(a.addOptions.data,"sm_aa_ProductID",n)},expression:"addOptions.data.sm_aa_ProductID"}})],1),a._v(" "),e("el-form-item",{attrs:{label:"创建时间:","label-width":a.formLabelWidth}},[e("el-date-picker",{attrs:{type:"date",placeholder:"创建时间"},model:{value:a.addOptions.data.sm_aa_CreateTime,callback:function(n){a.$set(a.addOptions.data,"sm_aa_CreateTime",n)},expression:"addOptions.data.sm_aa_CreateTime"}})],1),a._v(" "),e("el-form-item",{attrs:{label:"审核状态:","label-width":a.formLabelWidth}},[e("el-select",{attrs:{placeholder:"审核状态"},on:{change:a.OnChange},model:{value:a.addOptions.data.sm_aa_PassState,callback:function(n){a.$set(a.addOptions.data,"sm_aa_PassState",n)},expression:"addOptions.data.sm_aa_PassState"}},a._l(a.passOptions,function(a){return e("el-option",{key:a.value,attrs:{label:a.label,value:a.value}})}))],1),a._v(" "),e("el-form-item",{attrs:{label:"审核时间:","label-width":a.formLabelWidth}},[e("el-date-picker",{attrs:{type:"date",placeholder:"审核时间"},model:{value:a.addOptions.data.sm_aa_PassTime,callback:function(n){a.$set(a.addOptions.data,"sm_aa_PassTime",n)},expression:"addOptions.data.sm_aa_PassTime"}})],1),a._v(" "),e("el-form-item",{attrs:{label:"审核员编码:","label-width":a.formLabelWidth}},[e("el-input",{attrs:{placeholder:"审核员编码"},model:{value:a.addOptions.data.sm_aa_OperateCode,callback:function(n){a.$set(a.addOptions.data,"sm_aa_OperateCode",n)},expression:"addOptions.data.sm_aa_OperateCode"}})],1),a._v(" "),e("el-form-item",{directives:[{name:"show",rawName:"v-show",value:a.isShow,expression:"isShow"}],attrs:{label:"审核失败原因:","label-width":a.formLabelWidth}},[e("el-input",{attrs:{placeholder:"审核失败原因"},model:{value:a.addOptions.data.sm_aa_FailedReason,callback:function(n){a.$set(a.addOptions.data,"sm_aa_FailedReason",n)},expression:"addOptions.data.sm_aa_FailedReason"}})],1),a._v(" "),e("el-form-item",{attrs:{label:"备注:","label-width":a.formLabelWidth}},[e("el-input",{attrs:{placeholder:"请输入备注",type:"textarea"},model:{value:a.addOptions.data.sm_aa_Remark,callback:function(n){a.$set(a.addOptions.data,"sm_aa_Remark",n)},expression:"addOptions.data.sm_aa_Remark"}})],1)],1),a._v(" "),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(n){a.addDialog=!1}}},[a._v("取 消")]),a._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:a.addSubmit}},[a._v("确 定")])],1)],1),a._v(" "),e("el-dialog",{attrs:{title:"修改广告申请",visible:a.updateDialog},on:{"update:visible":function(n){a.updateDialog=n}}},[e("el-form",{attrs:{model:a.updateAdApplyObj}},[e("el-form-item",{attrs:{label:"申请广告编码:","label-width":a.formLabelWidth}},[e("el-input",{attrs:{disabled:a.isOff,placeholder:"请输入申请广告编码"},model:{value:a.updateAdApplyObj.sm_aa_ID,callback:function(n){a.$set(a.updateAdApplyObj,"sm_aa_ID",n)},expression:"updateAdApplyObj.sm_aa_ID"}})],1),a._v(" "),e("el-form-item",{attrs:{label:"广告图片:","label-width":a.formLabelWidth}},[e("a",{staticClass:"file",attrs:{href:"javascript:void(0);"}},[a._v("推荐类型图片上传\n            "),e("input",{ref:"upload1",attrs:{type:"file",name:"",accept:"image/*",multiple:""}})]),a._v(" "),a._l(a.ImageURL1,function(n){return e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:n,expression:"item"},{name:"show",rawName:"v-show",value:a.ImageURL1.length,expression:"ImageURL1.length"}],staticStyle:{width:"100px",height:"100px"},attrs:{src:"",alt:""}})})],2),a._v(" "),e("el-form-item",{attrs:{label:"广告描述:","label-width":a.formLabelWidth}},[e("el-input",{attrs:{placeholder:"请输入广告描述"},model:{value:a.updateAdApplyObj.sm_aa_Describe,callback:function(n){a.$set(a.updateAdApplyObj,"sm_aa_Describe",n)},expression:"updateAdApplyObj.sm_aa_Describe"}})],1),a._v(" "),e("el-form-item",{attrs:{label:"产品ID:","label-width":a.formLabelWidth}},[e("el-input",{attrs:{placeholder:"请输入产品ID"},model:{value:a.updateAdApplyObj.sm_aa_ProductID,callback:function(n){a.$set(a.updateAdApplyObj,"sm_aa_ProductID",n)},expression:"updateAdApplyObj.sm_aa_ProductID"}})],1),a._v(" "),e("el-form-item",{attrs:{label:"创建时间:","label-width":a.formLabelWidth}},[e("el-input",{attrs:{placeholder:"请输入创建时间"},model:{value:a.updateAdApplyObj.sm_aa_CreateTime,callback:function(n){a.$set(a.updateAdApplyObj,"sm_aa_CreateTime",n)},expression:"updateAdApplyObj.sm_aa_CreateTime"}})],1),a._v(" "),e("el-form-item",{attrs:{label:"审核状态:","label-width":a.formLabelWidth}},[e("el-select",{attrs:{placeholder:"审核状态"},on:{change:a.OnChangeUpdate},model:{value:a.updateAdApplyObj.sm_aa_PassState,callback:function(n){a.$set(a.updateAdApplyObj,"sm_aa_PassState",n)},expression:"updateAdApplyObj.sm_aa_PassState"}},a._l(a.updatePassOptions,function(a){return e("el-option",{key:a.value,attrs:{label:a.label,value:a.value}})}))],1),a._v(" "),e("el-form-item",{attrs:{label:"审核时间:","label-width":a.formLabelWidth}},[e("el-input",{attrs:{placeholder:"请输入审核时间"},model:{value:a.updateAdApplyObj.sm_aa_PassTime,callback:function(n){a.$set(a.updateAdApplyObj,"sm_aa_PassTime",n)},expression:"updateAdApplyObj.sm_aa_PassTime"}})],1),a._v(" "),e("el-form-item",{directives:[{name:"show",rawName:"v-show",value:a.isShow1,expression:"isShow1"}],attrs:{label:"审核失败原因:","label-width":a.formLabelWidth}},[e("el-input",{attrs:{placeholder:"请输入审核失败原因"},model:{value:a.updateAdApplyObj.sm_aa_FailedReason,callback:function(n){a.$set(a.updateAdApplyObj,"sm_aa_FailedReason",n)},expression:"updateAdApplyObj.sm_aa_FailedReason"}})],1),a._v(" "),e("el-form-item",{attrs:{label:"备注:","label-width":a.formLabelWidth}},[e("el-input",{attrs:{placeholder:"请输入备注",type:"textarea"},model:{value:a.updateAdApplyObj.sm_aa_Remark,callback:function(n){a.$set(a.updateAdApplyObj,"sm_aa_Remark",n)},expression:"updateAdApplyObj.sm_aa_Remark"}})],1)],1),a._v(" "),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(n){a.updateDialog=!1}}},[a._v("取 消")]),a._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:a.updateAdApplySubmit}},[a._v("确 定")])],1)],1),a._v(" "),e("div",{staticClass:"block",staticStyle:{float:"right",padding:"10px 0"}},[e("el-pagination",{directives:[{name:"show",rawName:"v-show",value:a.total,expression:"total"}],attrs:{"page-size":5,layout:"total, prev, pager, next",total:a.total},on:{"current-change":a.handleCurrentChange}})],1)],1)])},staticRenderFns:[]};var _=e("VU/8")(p,m,!1,function(a){e("ZcfO")},"data-v-1bb7b9d3",null);n.default=_.exports}});